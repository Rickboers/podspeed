(()=>{let t=!0;document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("toggleButton"),n=document.getElementById("wpsSlider"),a=document.getElementById("wpsValue");function o(){e.textContent=t?"Turn Off":"Turn On"}function s(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"update",isEnabled:t,targetWPS:parseFloat(n.value)})}))}chrome.storage.sync.get(["isEnabled","targetWPS"],(function(e){t=!1!==e.isEnabled,o(),e.targetWPS&&(n.value=e.targetWPS,a.textContent=e.targetWPS)})),e.addEventListener("click",(function(){t=!t,chrome.storage.sync.set({isEnabled:t}),o(),s()})),n.addEventListener("input",(function(){a.textContent=this.value})),n.addEventListener("change",(function(){chrome.storage.sync.set({targetWPS:parseFloat(this.value)}),t&&s()}))}))})();